<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>

    <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">

    <!-- CSS stylesheet(s) -->
    <link rel="stylesheet" type="text/css" href="css/style.css" />

    <!-- Library script(s) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- My script(s) -->
    <script src="js/script.js"></script>

            <script>
              greetings = [
                "hello",
                "hey",
                "howdy",
                "hi",
                "yo",
                "good morning",
                "good evening",
                "good afternoon",
                "good night",
                "what's up",
                "wassup",
                "yo yo",
                "yoyoyo",
                "yooo",
                "hellooo",
                "hiii"
              ]

              greetingsAnswers = [
                "hello",
                "hey",
                "howdy",
                "hi",
                "yo",
                "hey there",
                "hiiiii",
                "hiya",
                "oh. hi",
                "um, hello",
                "what",
                "hey man",
                "yooooooooooo",
                "sup",
                "i'm a bit busy but sure wtv"
              ]

              smallTalk = [
                "how are you",
                "what are you up to",
                "how are you doing",
                "are you okay",
                "you good",
                "how are you feeling"
              ]

                // know = [
                //     "tell me something" : "i don't know what to talk about",
                //     "what is your name" : "why",
                //     "what do you like" : "what do you like?",
                //     "ok" : "i don't know what to say",
                //     "sorry" : "it's okay",
                //     "what do you want" : "what DO you want?"
                // ]

                positive = [
                  "yes",
                  "yeah",
                  "yea",
                  "ok",
                  "good",
                  "of course",
                  "definitely",
                  "yess"
                ];

                function checkWords() {
                  var user = document.getElementById("userBox").value;
                  document.getElementById("chatLog").innerHTML += user+"<br>";
                  setTimeout(displayTyping,1000);
                }

                function computerSmallTalk() {
                  const randomSmallTalk = smallTalk[Math.floor(Math.random() * smallTalk.length)];
                  document.getElementById("chatLog").innerHTML += randomSmallTalk+"<br>";
                }

                function displayTyping() {
                  document.getElementById("chatLog").innerHTML += "Friend is typing...<br>";
                  setTimeout(removeTyping,3000);
                }

                function removeTyping() {
                  document.getElementById("chatLog").innerHTML += "";
                  answerText();
                }

                function answerText() {
                  var user = document.getElementById("userBox").value;
                  document.getElementById("userBox").value = "";

                  if (greetings.indexOf(user) !== -1) {
                      const randomGreeting = greetingsAnswers[Math.floor(Math.random() * greetingsAnswers.length)];
                      document.getElementById("chatLog").innerHTML += randomGreeting+"<br>";
                      console.log("hello");
                      setTimeout(computerSmallTalk, 1000);
                      }

                  else if (positive.indexOf(user) !== -1) {
                      document.getElementById("chatLog").innerHTML += "that's cool<br>";
                      }

                  else {
                      document.getElementById("chatLog").innerHTML += "what?<br>";
                      }
                }

            </script>
        </head>
        <body>
          <br>
          <br>
          <h4>quarantine buddy simulator</h4>
          <br>
          <br>
            <p id="chatLog">a conversation usually starts with a greeting. in case you forgot<br></p>
            <p id= "friendChat"></p>
            <br>
            <br>
            <input type="text" id="userBox" value="" placeholder="press 'enter' after typing" onkeydown="if (event.keyCode == 13) {checkWords();}">
        </body>
</html>
